<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Luxury Hotel</title>

    <!-- Tailwind CDN and Daisy UI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />

    <style>
        .monteserrat {
            font-family: 'Montserrat', sans-serif;
        }

        .eb-garamond {
            font-family: 'EB Garamond', serif;
        }
    </style>
</head>

<body class="monteserrat flex flex-col bg-[#F8F9FA] lg:flex-row">
    <div class="drawer lg:drawer-open lg:w-auto">
        <input id="my-drawer-2" type="checkbox" class="drawer-toggle" />
        <div class="m-4">
            <label for="my-drawer-2"
                class="cursor-pointer drawer-button bg-[#14274A] text-white p-2 rounded-md lg:invisible">
                <i class="fa-solid fa-bars"></i>
            </label>
        </div>
        <div class="drawer-side z-50">
            <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"></label>
            <ul class="menu bg-base-200 text-base-content w-80 px-4 py-0 bg-[#14274A] min-h-full">
                <div class="flex justify-between lg:justify-center">
                    <img src="../assets/brand-logo.png" class="w-[128px] h-[74.24px] cursor-pointer mb-4"
                        alt="Hotel Logo" />
                    <i
                        class="sidebarClose fa-solid fa-circle-xmark text-[20px] text-white hover:text-[#e0b973] cursor-pointer mt-[30px] lg:invisible"></i>
                </div>

                <li class="nav-item eb-garamond font-semibold text-[20px] text-[#e0b973] bg-[#131312] hover:text-[#e0b973] hover:bg-[#131312] rounded-[10px] mb-[5px]"
                    data-section="dashboard">
                    <span><i class="fa-solid fa-chart-line mr-2"></i>Dashboard</span>
                </li>
                <li class="nav-item eb-garamond font-semibold text-[20px] text-white hover:text-[#e0b973] hover:bg-[#131312] rounded-[10px] mb-[5px]"
                    data-section="guests">
                    <span><i class="fa-solid fa-users mr-2"></i>Manage Guests</span>
                </li>
                <li class="nav-item eb-garamond font-semibold text-[20px] text-white hover:text-[#e0b973] hover:bg-[#131312] rounded-[10px] mb-[5px]"
                    data-section="bookings">
                    <span><i class="fa-solid fa-calendar-check mr-2"></i>Bookings</span>
                </li>
                <li class="nav-item eb-garamond font-semibold text-[20px] text-white hover:text-[#e0b973] hover:bg-[#131312] rounded-[10px] mb-[5px]"
                    data-section="rooms">
                    <span><i class="fa-solid fa-bed mr-2"></i>Room Management</span>
                </li>
                <li class="nav-item eb-garamond font-semibold text-[20px] text-white hover:text-[#e0b973] hover:bg-[#131312] rounded-[10px] mb-[5px]"
                    data-section="staff">
                    <span><i class="fa-solid fa-user-tie mr-2"></i>Staff Management</span>
                </li>
                <li class="logout eb-garamond font-semibold text-[20px] text-white hover:text-[#e0b973] hover:bg-[#131312] rounded-[10px] mb-[5px]">
                    <span><i class="fa-solid fa-right-from-bracket mr-2"></i>Logout</span>
                </li>
            </ul>
        </div>
    </div>

    <main class="w-full h-auto lg:max-w-[80%] flex flex-col mx-auto p-4">
        
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section">
            <div class="w-full max-w-[1400px] mx-auto">
                <h1 class="eb-garamond text-[35px] font-bold mb-6">Admin Dashboard</h1>
                
                <!-- Statistics Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-[10px] shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm mb-2">Total Guests</p>
                                <p class="text-3xl font-bold text-[#14274A]" id="totalGuestsCount">0</p>
                            </div>
                            <div class="bg-[#E0B973] p-4 rounded-full">
                                <i class="fa-solid fa-users text-white text-2xl"></i>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-[10px] shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm mb-2">Active Bookings</p>
                                <p class="text-3xl font-bold text-[#14274A]" id="activeBookingsCount">0</p>
                            </div>
                            <div class="bg-[#14274A] p-4 rounded-full">
                                <i class="fa-solid fa-calendar-check text-white text-2xl"></i>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-[10px] shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm mb-2">Total Rooms</p>
                                <p class="text-3xl font-bold text-[#14274A]" id="totalRoomsCount">0</p>
                            </div>
                            <div class="bg-[#E0B973] p-4 rounded-full">
                                <i class="fa-solid fa-bed text-white text-2xl"></i>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-[10px] shadow-md p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm mb-2">Staff Members</p>
                                <p class="text-3xl font-bold text-[#14274A]" id="totalStaffCount">0</p>
                            </div>
                            <div class="bg-[#14274A] p-4 rounded-full">
                                <i class="fa-solid fa-user-tie text-white text-2xl"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-white rounded-[10px] shadow-md p-6">
                    <h2 class="eb-garamond text-[25px] font-bold mb-4">Recent Activity</h2>
                    <div id="recentActivity" class="space-y-3">
                        <p class="text-gray-500">Loading recent activities...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Manage Guests Section -->
        <section id="guests-section" class="content-section hidden">
            <div class="w-full max-w-[1400px] mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="eb-garamond text-[35px] font-bold">Manage Guests</h1>
                    <input type="text" id="guestSearch" placeholder="Search guests..." 
                        class="bg-white w-full max-w-[300px] h-[45px] text-[15px] rounded-[10px] box-border p-[13px] border border-gray-300 focus:outline-none focus:border-[#E0B973]">
                </div>

                <div class="bg-white rounded-[10px] shadow-md p-6">
                    <div class="overflow-x-auto">
                        <table class="table w-full">
                            <thead>
                                <tr class="bg-[#14274A] text-white">
                                    <th>ID</th>
                                    <th>Full Name</th>
                                    <th>Email</th>
                                    <th>Contact</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="guestsTableBody">
                                <tr>
                                    <td colspan="6" class="text-center text-gray-500">Loading guests...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bookings Section -->
        <section id="bookings-section" class="content-section hidden">
            <div class="w-full max-w-[1400px] mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="eb-garamond text-[35px] font-bold">Manage Bookings</h1>
                    <select id="bookingStatusFilter" class="bg-white h-[45px] text-[15px] rounded-[10px] px-4 border border-gray-300 focus:outline-none focus:border-[#E0B973]">
                        <option value="all">All Bookings</option>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>

                <div class="bg-white rounded-[10px] shadow-md p-6">
                    <div class="overflow-x-auto">
                        <table class="table w-full">
                            <thead>
                                <tr class="bg-[#14274A] text-white">
                                    <th>Booking ID</th>
                                    <th>Guest Name</th>
                                    <th>Room Type</th>
                                    <th>Check-in</th>
                                    <th>Check-out</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="bookingsTableBody">
                                <tr>
                                    <td colspan="7" class="text-center text-gray-500">Loading bookings...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Room Management Section -->
        <section id="rooms-section" class="content-section hidden">
            <div class="w-full max-w-[1400px] mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="eb-garamond text-[35px] font-bold">Room Management</h1>
                    <button onclick="addRoomModal.showModal()" class="bg-[#E0B973] text-white px-6 py-3 rounded-[10px] font-semibold hover:bg-[#131312] duration-300">
                        <i class="fa-solid fa-plus mr-2"></i>Add New Room
                    </button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="roomsContainer">
                    <p class="text-gray-500 col-span-full text-center">Loading rooms...</p>
                </div>
            </div>
        </section>

        <!-- Staff Management Section -->
        <section id="staff-section" class="content-section hidden">
            <div class="w-full max-w-[1400px] mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="eb-garamond text-[35px] font-bold">Staff Management</h1>
                    <button onclick="addStaffModal.showModal()" class="bg-[#E0B973] text-white px-6 py-3 rounded-[10px] font-semibold hover:bg-[#131312] duration-300">
                        <i class="fa-solid fa-plus mr-2"></i>Add New Staff
                    </button>
                </div>

                <div class="bg-white rounded-[10px] shadow-md p-6">
                    <div class="overflow-x-auto">
                        <table class="table w-full">
                            <thead>
                                <tr class="bg-[#14274A] text-white">
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Position</th>
                                    <th>Email</th>
                                    <th>Contact</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="staffTableBody">
                                <tr>
                                    <td colspan="7" class="text-center text-gray-500">Loading staff...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- View Guest Details Modal -->
    <dialog id="guestDetailsModal" class="modal">
        <div class="modal-box w-full max-w-3xl">
            <h3 class="eb-garamond font-bold text-[25px] mb-4">Guest Details</h3>
            <div id="guestDetailsContent" class="grid grid-cols-2 gap-4">
                <!-- Content will be populated dynamically -->
            </div>
            <div class="modal-action">
                <form method="dialog">
                    <button class="btn bg-[#E0B973] text-white hover:bg-[#131312]">Close</button>
                </form>
            </div>
        </div>
    </dialog>

    <!-- Add Room Modal -->
    <dialog id="addRoomModal" class="modal">
        <div class="modal-box w-full max-w-2xl">
            <h3 class="eb-garamond font-bold text-[25px] mb-4">Add New Room</h3>
            <form id="addRoomForm" class="space-y-4">
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Room Number</label>
                    <input type="text" name="roomNumber" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Room Type</label>
                    <select name="roomType" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                        <option value="">Select Type</option>
                        <option value="Single">Single</option>
                        <option value="Double">Double</option>
                        <option value="Suite">Suite</option>
                        <option value="Deluxe">Deluxe</option>
                    </select>
                </div>
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Price per Night</label>
                    <input type="number" name="price" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Capacity</label>
                    <input type="number" name="capacity" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div class="flex gap-4 justify-end mt-6">
                    <button type="submit" class="btn bg-[#E0B973] text-white hover:bg-[#131312]">Add Room</button>
                    <button type="button" onclick="addRoomModal.close()" class="btn">Cancel</button>
                </div>
            </form>
        </div>
    </dialog>

    <!-- Add Staff Modal -->
    <dialog id="addStaffModal" class="modal">
        <div class="modal-box w-full max-w-2xl">
            <h3 class="eb-garamond font-bold text-[25px] mb-4">Add New Staff Member</h3>
            <form id="addStaffForm" class="space-y-4">
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Full Name</label>
                    <input type="text" name="staffName" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Position</label>
                    <input type="text" name="position" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Email</label>
                    <input type="email" name="staffEmail" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div>
                    <label class="text-[15px] font-semibold mb-2 block">Contact Number</label>
                    <input type="tel" name="staffContact" required class="bg-[#fcf2df] w-full h-[49px] text-[15px] rounded-[10px] p-[13px] border-none focus:outline-none">
                </div>
                <div class="flex gap-4 justify-end mt-6">
                    <button type="submit" class="btn bg-[#E0B973] text-white hover:bg-[#131312]">Add Staff</button>
                    <button type="button" onclick="addStaffModal.close()" class="btn">Cancel</button>
                </div>
            </form>
        </div>
    </dialog>

    <!-- Logout Modal -->
    <dialog id="logoutModal" class="modal modal-bottom sm:modal-middle">
        <div class="modal-box">
            <p class="py-4">Are you sure you want to logout?</p>
            <div class="modal-action">
                <button class="btn bg-[#E0B973] text-white hover:bg-[#131312]" id="confirmLogout">Yes</button>
                <form method="dialog">
                    <button class="btn">No</button>
                </form>
            </div>
        </div>
    </dialog>

    <script>
        // Sample data - Replace with actual API calls
        let guests = [
            { id: 1, name: "John Doe", email: "john@example.com", contact: "+1234567890", status: "Active", gender: "Male", address: "123 Main St", dob: "1990-05-15" },
            { id: 2, name: "Jane Smith", email: "jane@example.com", contact: "+1234567891", status: "Active", gender: "Female", address: "456 Oak Ave", dob: "1985-08-22" },
            { id: 3, name: "Mike Johnson", email: "mike@example.com", contact: "+1234567892", status: "Inactive", gender: "Male", address: "789 Pine Rd", dob: "1992-03-10" }
        ];

        let bookings = [
            { id: "BK001", guestName: "John Doe", roomType: "Deluxe Suite", checkIn: "2025-10-15", checkOut: "2025-10-20", status: "Confirmed" },
            { id: "BK002", guestName: "Jane Smith", roomType: "Single Room", checkIn: "2025-10-12", checkOut: "2025-10-14", status: "Pending" },
            { id: "BK003", guestName: "Mike Johnson", roomType: "Double Room", checkIn: "2025-09-20", checkOut: "2025-09-25", status: "Completed" }
        ];

        let rooms = [
            { id: 1, number: "101", type: "Single", price: 100, capacity: 1, status: "Available" },
            { id: 2, number: "102", type: "Double", price: 150, capacity: 2, status: "Occupied" },
            { id: 3, number: "201", type: "Suite", price: 300, capacity: 4, status: "Available" },
            { id: 4, number: "202", type: "Deluxe", price: 250, capacity: 3, status: "Available" }
        ];

        let staff = [
            { id: 1, name: "Sarah Williams", position: "Manager", email: "sarah@hotel.com", contact: "+1234567893", status: "Active" },
            { id: 2, name: "Tom Brown", position: "Receptionist", email: "tom@hotel.com", contact: "+1234567894", status: "Active" },
            { id: 3, name: "Lisa Davis", position: "Housekeeper", email: "lisa@hotel.com", contact: "+1234567895", status: "Active" }
        ];

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                const section = this.getAttribute('data-section');
                
                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('bg-[#131312]', 'text-[#e0b973]');
                    nav.classList.add('text-white');
                });
                this.classList.add('bg-[#131312]', 'text-[#e0b973]');
                
                // Show corresponding section
                document.querySelectorAll('.content-section').forEach(sec => {
                    sec.classList.add('hidden');
                });
                document.getElementById(section + '-section').classList.remove('hidden');
                
                // Load section data
                if (section === 'dashboard') loadDashboard();
                else if (section === 'guests') loadGuests();
                else if (section === 'bookings') loadBookings();
                else if (section === 'rooms') loadRooms();
                else if (section === 'staff') loadStaff();
            });
        });

        // Close sidebar on mobile
        document.querySelector('.sidebarClose')?.addEventListener('click', function() {
            document.getElementById('my-drawer-2').checked = false;
        });

        // Load Dashboard
        function loadDashboard() {
            document.getElementById('totalGuestsCount').textContent = guests.length;
            document.getElementById('activeBookingsCount').textContent = bookings.filter(b => b.status === 'Confirmed' || b.status === 'Pending').length;
            document.getElementById('totalRoomsCount').textContent = rooms.length;
            document.getElementById('totalStaffCount').textContent = staff.length;

            const recentActivity = document.getElementById('recentActivity');
            recentActivity.innerHTML = `
                <div class="flex items-center gap-3 p-3 bg-[#fcf2df] rounded-lg">
                    <i class="fa-solid fa-user-plus text-[#E0B973] text-xl"></i>
                    <div>
                        <p class="font-semibold">New guest registered</p>
                        <p class="text-sm text-gray-600">John Doe joined 2 hours ago</p>
                    </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-[#fcf2df] rounded-lg">
                    <i class="fa-solid fa-calendar-check text-[#14274A] text-xl"></i>
                    <div>
                        <p class="font-semibold">Booking confirmed</p>
                        <p class="text-sm text-gray-600">BK001 for Jane Smith</p>
                    </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-[#fcf2df] rounded-lg">
                    <i class="fa-solid fa-bed text-[#E0B973] text-xl"></i>
                    <div>
                        <p class="font-semibold">Room 102 checked out</p>
                        <p class="text-sm text-gray-600">Mike Johnson completed stay</p>
                    </div>
                </div>
            `;
        }

        // Load Guests
        function loadGuests() {
            const tbody = document.getElementById('guestsTableBody');
            tbody.innerHTML = guests.map(guest => `
                <tr>
                    <td>${guest.id}</td>
                    <td>${guest.name}</td>
                    <td>${guest.email}</td>
                    <td>${guest.contact}</td>
                    <td><span class="badge ${guest.status === 'Active' ? 'badge-success' : 'badge-error'}">${guest.status}</span></td>
                    <td>
                        <button onclick="viewGuest(${guest.id})" class="btn btn-sm bg-[#14274A] text-white hover:bg-[#E0B973] mr-2">
                            <i class="fa-solid fa-eye"></i>
                        </button>
                        <button onclick="toggleGuestStatus(${guest.id})" class="btn btn-sm ${guest.status === 'Active' ? 'btn-error' : 'btn-success'}">
                            ${guest.status === 'Active' ? 'Deactivate' : 'Activate'}
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // Search Guests
        document.getElementById('guestSearch')?.addEventListener('input', function(e) {
            const search = e.target.value.toLowerCase();
            const filtered = guests.filter(g => 
                g.name.toLowerCase().includes(search) || 
                g.email.toLowerCase().includes(search)
            );
            const tbody = document.getElementById('guestsTableBody');
            tbody.innerHTML = filtered.map(guest => `
                <tr>
                    <td>${guest.id}</td>
                    <td>${guest.name}</td>
                    <td>${guest.email}</td>
                    <td>${guest.contact}</td>
                    <td><span class="badge ${guest.status === 'Active' ? 'badge-success' : 'badge-error'}">${guest.status}</span></td>
                    <td>
                        <button onclick="viewGuest(${guest.id})" class="btn btn-sm bg-[#14274A] text-white hover:bg-[#E0B973] mr-2">
                            <i class="fa-solid fa-eye"></i>
                        </button>
                        <button onclick="toggleGuestStatus(${guest.id})" class="btn btn-sm ${guest.status === 'Active' ? 'btn-error' : 'btn-success'}">
                            ${guest.status === 'Active' ? 'Deactivate' : 'Activate'}
                        </button>
                    </td>
                </tr>
            `).join('');
        });

        // View Guest Details
        function viewGuest(id) {
            const guest = guests.find(g => g.id === id);
            const content = document.getElementById('guestDetailsContent');
            content.innerHTML = `
                <div><strong>Address:</strong> ${guest.address}</div>
                <div><strong>Date of Birth:</strong> ${guest.dob}</div>
                <div><strong>Status:</strong> <span class="badge ${guest.status === 'Active' ? 'badge-success' : 'badge-error'}">${guest.status}</span></div>
            `;
            guestDetailsModal.showModal();
        }

        // Toggle Guest Status
        function toggleGuestStatus(id) {
            const guest = guests.find(g => g.id === id);
            guest.status = guest.status === 'Active' ? 'Inactive' : 'Active';
            loadGuests();
        }

        // Load Bookings
        function loadBookings() {
            const tbody = document.getElementById('bookingsTableBody');
            tbody.innerHTML = bookings.map(booking => `
                <tr>
                    <td>${booking.id}</td>
                    <td>${booking.guestName}</td>
                    <td>${booking.roomType}</td>
                    <td>${booking.checkIn}</td>
                    <td>${booking.checkOut}</td>
                    <td><span class="badge ${getBookingBadgeClass(booking.status)}">${booking.status}</span></td>
                    <td>
                        ${booking.status === 'Pending' ? `
                            <button onclick="confirmBooking('${booking.id}')" class="btn btn-sm btn-success mr-2">
                                <i class="fa-solid fa-check"></i> Confirm
                            </button>
                        ` : ''}
                        <button onclick="viewBookingDetails('${booking.id}')" class="btn btn-sm bg-[#14274A] text-white hover:bg-[#E0B973]">
                            <i class="fa-solid fa-eye"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function getBookingBadgeClass(status) {
            switch(status) {
                case 'Confirmed': return 'badge-success';
                case 'Pending': return 'badge-warning';
                case 'Completed': return 'badge-info';
                case 'Cancelled': return 'badge-error';
                default: return 'badge-ghost';
            }
        }

        // Filter Bookings
        document.getElementById('bookingStatusFilter')?.addEventListener('change', function(e) {
            const status = e.target.value;
            const filtered = status === 'all' ? bookings : bookings.filter(b => b.status.toLowerCase() === status);
            const tbody = document.getElementById('bookingsTableBody');
            tbody.innerHTML = filtered.map(booking => `
                <tr>
                    <td>${booking.id}</td>
                    <td>${booking.guestName}</td>
                    <td>${booking.roomType}</td>
                    <td>${booking.checkIn}</td>
                    <td>${booking.checkOut}</td>
                    <td><span class="badge ${getBookingBadgeClass(booking.status)}">${booking.status}</span></td>
                    <td>
                        ${booking.status === 'Pending' ? `
                            <button onclick="confirmBooking('${booking.id}')" class="btn btn-sm btn-success mr-2">
                                <i class="fa-solid fa-check"></i> Confirm
                            </button>
                        ` : ''}
                        <button onclick="viewBookingDetails('${booking.id}')" class="btn btn-sm bg-[#14274A] text-white hover:bg-[#E0B973]">
                            <i class="fa-solid fa-eye"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        });

        // Confirm Booking
        function confirmBooking(id) {
            const booking = bookings.find(b => b.id === id);
            if (booking) {
                booking.status = 'Confirmed';
                loadBookings();
                alert(`Booking ${id} has been confirmed!`);
            }
        }

        // View Booking Details
        function viewBookingDetails(id) {
            const booking = bookings.find(b => b.id === id);
            alert(`Booking Details:\nID: ${booking.id}\nGuest: ${booking.guestName}\nRoom: ${booking.roomType}\nCheck-in: ${booking.checkIn}\nCheck-out: ${booking.checkOut}\nStatus: ${booking.status}`);
        }

        // Load Rooms
        function loadRooms() {
            const container = document.getElementById('roomsContainer');
            container.innerHTML = rooms.map(room => `
                <div class="bg-white rounded-[10px] shadow-md p-6">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="eb-garamond text-[22px] font-bold">Room ${room.number}</h3>
                        <span class="badge ${room.status === 'Available' ? 'badge-success' : 'badge-error'}">${room.status}</span>
                    </div>
                    <div class="space-y-2 mb-4">
                        <p><strong>Type:</strong> ${room.type}</p>
                        <p><strong>Price:</strong> ${room.price}/night</p>
                        <p><strong>Capacity:</strong> ${room.capacity} person(s)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="editRoom(${room.id})" class="btn btn-sm bg-[#E0B973] text-white hover:bg-[#131312] flex-1">
                            <i class="fa-solid fa-edit"></i> Edit
                        </button>
                        <button onclick="deleteRoom(${room.id})" class="btn btn-sm btn-error text-white flex-1">
                            <i class="fa-solid fa-trash"></i> Delete
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Add Room
        document.getElementById('addRoomForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const newRoom = {
                id: rooms.length + 1,
                number: formData.get('roomNumber'),
                type: formData.get('roomType'),
                price: parseFloat(formData.get('price')),
                capacity: parseInt(formData.get('capacity')),
                status: 'Available'
            };
            rooms.push(newRoom);
            loadRooms();
            addRoomModal.close();
            e.target.reset();
            alert('Room added successfully!');
        });

        // Edit Room
        function editRoom(id) {
            const room = rooms.find(r => r.id === id);
            alert(`Edit Room ${room.number}\nThis would open an edit modal in production.`);
        }

        // Delete Room
        function deleteRoom(id) {
            if (confirm('Are you sure you want to delete this room?')) {
                rooms = rooms.filter(r => r.id !== id);
                loadRooms();
                alert('Room deleted successfully!');
            }
        }

        // Load Staff
        function loadStaff() {
            const tbody = document.getElementById('staffTableBody');
            tbody.innerHTML = staff.map(member => `
                <tr>
                    <td>${member.id}</td>
                    <td>${member.name}</td>
                    <td>${member.position}</td>
                    <td>${member.email}</td>
                    <td>${member.contact}</td>
                    <td><span class="badge ${member.status === 'Active' ? 'badge-success' : 'badge-error'}">${member.status}</span></td>
                    <td>
                        <button onclick="editStaff(${member.id})" class="btn btn-sm bg-[#E0B973] text-white hover:bg-[#131312] mr-2">
                            <i class="fa-solid fa-edit"></i>
                        </button>
                        <button onclick="deleteStaff(${member.id})" class="btn btn-sm btn-error text-white">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // Add Staff
        document.getElementById('addStaffForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const newStaff = {
                id: staff.length + 1,
                name: formData.get('staffName'),
                position: formData.get('position'),
                email: formData.get('staffEmail'),
                contact: formData.get('staffContact'),
                status: 'Active'
            };
            staff.push(newStaff);
            loadStaff();
            addStaffModal.close();
            e.target.reset();
            alert('Staff member added successfully!');
        });

        // Edit Staff
        function editStaff(id) {
            const member = staff.find(s => s.id === id);
            alert(`Edit Staff: ${member.name}\nThis would open an edit modal in production.`);
        }

        // Delete Staff
        function deleteStaff(id) {
            if (confirm('Are you sure you want to delete this staff member?')) {
                staff = staff.filter(s => s.id !== id);
                loadStaff();
                alert('Staff member deleted successfully!');
            }
        }

        // Logout
        document.querySelector('.logout')?.addEventListener('click', function() {
            logoutModal.showModal();
        });

        document.getElementById('confirmLogout')?.addEventListener('click', function() {
            // Add logout logic here
            alert('Logging out...');
            window.location.href = '../index.html';
        });

        // Initialize dashboard on load
        loadDashboard();
    </script>
</body>
